<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8"/>
        <title>Enregister</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>
        <!--<link rel='stylesheet prefetch' href='http://fonts.googleapis.com/css?family=Open+Sans'/>-->
        <link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css" 
              th:href="@{/css/bootstrap.min.css}"/>
        <link href="../../static/css/font-awesome.min.css" rel="stylesheet" type="text/css"
              th:href="@{/css/font-awesome.min.css}"/>
        <link rel="stylesheet" type="text/css" href="../static/css/login/style.css" 
              th:href="@{/css/login/style.css}"/>
        <link rel="stylesheet" type="text/css" href="../static/css/app.css" 
              th:href="@{/css/app.css}"/>

        <script src="../static/js/angular.min.js" type="text/javascript"
        th:src="@{/js/angular.min.js}"></script>
        
        <script src="../../static/js/angular-cookies.min.js" type="text/javascript"
        th:src="@{/js/angular-cookies.min.js}"></script>

        <!--[if lt IE 9]>
              <script src="../assets/js/ie8-responsive-file-warning.js"></script>
              <![endif]-->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
                <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
                <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
              <![endif]-->

    </head>
    <body ng-app="MyApp" ng-controller="registerController">
        <div class="cont">
            <div class="demo1">
                <div class="login">
                    <center>
                        <br/><br/>
                        <span style="color: white;font-size: 20px;font-weight: bold;">Formulaire de création de compte</span>                       
                    </center>

                    <div class="login__form top30">
                        <span ng-show="error === true" style="font-weight: bold; color: red;font-size: 20px;">
                            {{errormsg}}
                        </span>

                        <form name="userForm" ng-submit="registerUser();">
                            <div class="col-md-6">
                                <div class="login__row">
                                    <svg class="login__icon name svg-icon" viewBox="0 0 20 20">
                                    <path d="M0,20 a10,8 0 0,1 20,0z M10,0 a4,4 0 0,1 0,8 a4,4 0 0,1 0,-8" />
                                    </svg>
                                    <input ng-change="setEmail()" autofocus="true" required="true" ng-model="user.idBooster" type="text" 
                                           class="login__input name" placeholder="Id booster"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="login__row">
                                    <svg class="login__icon name svg-icon" viewBox="0 0 20 20">
                                    <path d="M0,20 a10,8 0 0,1 20,0z M10,0 a4,4 0 0,1 0,8 a4,4 0 0,1 0,-8" />
                                    </svg>
                                    <input ng-model="user.email" disabled="true" required="true" type="email" 
                                           class="login__input pass" placeholder="Email"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="login__row">
                                    <svg class="login__icon name svg-icon" viewBox="0 0 20 20">
                                    <path d="M0,20 a10,8 0 0,1 20,0z M10,0 a4,4 0 0,1 0,8 a4,4 0 0,1 0,-8" />
                                    </svg>
                                    <input required="true" ng-model="user.nom" type="text" 
                                           class="login__input name" placeholder="Nom"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="login__row">
                                    <svg class="login__icon name svg-icon" viewBox="0 0 20 20">
                                    <path d="M0,20 a10,8 0 0,1 20,0z M10,0 a4,4 0 0,1 0,8 a4,4 0 0,1 0,-8" />
                                    </svg>
                                    <input required="true" ng-model="user.prenom" type="text" 
                                           class="login__input name" placeholder="Prénom(s)"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="login__row">
                                    <svg class="login__icon pass svg-icon" viewBox="0 0 20 20">
                                    <path d="M0,20 20,20 20,8 0,8z M10,13 10,16z M4,8 a6,8 0 0,1 12,0" />
                                    </svg>
                                    <input ng-model="user.motPasse" required="true" type="password" 
                                           class="login__input pass" placeholder="Mot de passe"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="login__row">
                                    <svg class="login__icon pass svg-icon" viewBox="0 0 20 20">
                                    <path d="M0,20 20,20 20,8 0,8z M10,13 10,16z M4,8 a6,8 0 0,1 12,0" />
                                    </svg>
                                    <input ng-model="user.confpass" required="true" type="password" 
                                           class="login__input pass" placeholder="Confirmation Mot de passe"/>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="login__row">
                                    Promotion
                                    <select required="true" ng-model="user.promotiomId" class="form-control">
                                        <option value="">Sélectionner votre promotion</option>
                                        <option ng-repeat="p in promotions" value="{{p.id}}">{{p.codePromotion}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="login__row btn-group btn-group-justified marginTop5 noBorderBottom" role="group" aria-label="...">
                                    <div class="btn-group" role="group">
                                        <button type="button" ng-click="selectTypeUserEtudiant();" class="btn {{typeUserBtnEtudiantClass}}">Etudiant</button>
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button type="button" ng-click="selectTypeUserCoach();" class="btn {{typeUserBtnCoachClass}}">Coach</button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <button type="submit" ng-submit="registerUser();" class="login__submit margin5">Enregister</button>
                            </div>
                            
                            <div class="col-md-6">
                                <a th:href="@{/login}" class="btn btn-primary login__submit margin5 colorblue">
                                    <i class="fa fa-arrow-left"></i> Retour à la page d'authentification</a>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>

       
        <div class="modal fade top35" id="loading-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
            <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                   
                    <img src="../static/images/loading.gif" class="width50 center-block"
                                     th:src="@{/images/loading.gif}"/>
                </div>
            </div>
        </div>
        
        <div class="modal fade top10" id="success-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h5 class="modal-title">Enregistrement effectué avec succès!</h5>
                    </div>
                    <img src="../static/images/success.png" class="width10 center-block"
                                     th:src="@{/images/success.png}"/>
                    <br></br>
                    <p class="txtCenter fontSize20">{{successmsg}}</p>
                    <div class="modal-footer">
                        <button type="button" ng-click="fermerSuccessModal()" class="btn btn-primary">Fermer</button>
                    </div>
                </div>
            </div>
        </div>
        
        <script src="../static/js/app.js" type="text/javascript"
        th:src="@{/js/app.js}"></script>
        
        <script src="../static/js/jquery.min.js" type="text/javascript"
        th:src="@{/js/jquery.min.js}"></script>
        
        <script src="../static/js/bootstrap.min.js" type="text/javascript"
        th:src="@{/js/bootstrap.min.js}"></script>

    </body>
</html>